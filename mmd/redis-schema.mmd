
erDiagram
    WEATHER_SYSTEM {
        string last_updated
    }

    OFFICE {
        string name
        string updated_at
    }

    OFFICE_DATA {
        string json_data
    }

    ALL_AREAS {
        string area_code
        string area_name
    }

    AREA {
        string name
        string parent_office
        string parent_name
        string publishing_office
        string updated_at
    }

    AREA_DATE {
        string forecast_type
        string data_type
        string time_str
        string value
    }

    AREA_TYPE {
        string time_str
        string value
    }

    TIME_DATA {
        string area_code
        string value
    }

    AREA_SERIES {
        string json_data
    }

    AREA_SERIES_INDEX {
        string forecast_series_id
    }

    AREA_AVERAGE {
        string min
        string max
        string updated_at
    }

    WEATHER_SYSTEM ||--o{ OFFICE : contains
    WEATHER_SYSTEM ||--o{ ALL_AREAS : lists
    OFFICE ||--|| OFFICE_DATA : has
    OFFICE ||--o{ AREA : manages
    ALL_AREAS ||--o{ AREA : references
    AREA ||--o{ AREA_DATE : stores_data_by_date
    AREA ||--o{ AREA_TYPE : stores_data_by_type
    AREA ||--o{ AREA_SERIES : stores_time_series
    AREA ||--|| AREA_SERIES_INDEX : indexes_series
    AREA ||--o{ AREA_AVERAGE : has_averages
    TIME_DATA }|--|| AREA : references
